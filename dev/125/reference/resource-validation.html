<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Resource Validation System for Connector Objects — resource-validation • connector</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Resource Validation System for Connector Objects — resource-validation"><meta name="description" content="This module provides a flexible validation system to verify that resources
required by connector objects exist and are accessible. The validation is
performed through S3 method dispatch, allowing each connector class to define
its own validation logic while providing a consistent interface."><meta property="og:description" content="This module provides a flexible validation system to verify that resources
required by connector objects exist and are accessible. The validation is
performed through S3 method dispatch, allowing each connector class to define
its own validation logic while providing a consistent interface."><meta property="og:image" content="https://novonordisk-opensource.github.io/connector/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">connector</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/connector.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Consistent-API.html">Understanding Connector Package Methods</a></li>
    <li><a class="dropdown-item" href="../articles/customize.html">How to extend connector</a></li>
    <li><a class="dropdown-item" href="../articles/without-yaml.html">Using connector without YAML files</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NovoNordisk-OpenSource/connector/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Resource Validation System for Connector Objects</h1>
      <small class="dont-index">Source: <a href="https://github.com/NovoNordisk-OpenSource/connector/blob/124-release-100/R/connector_check_ressource.R" class="external-link"><code>R/connector_check_ressource.R</code></a></small>
      <div class="d-none name"><code>resource-validation.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This module provides a flexible validation system to verify that resources
required by connector objects exist and are accessible. The validation is
performed through S3 method dispatch, allowing each connector class to define
its own validation logic while providing a consistent interface.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">validate_resource</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">check_resource</span><span class="op">(</span><span class="va">self</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'Connector'</span></span>
<span><span class="fu">check_resource</span><span class="op">(</span><span class="va">self</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ConnectorFS'</span></span>
<span><span class="fu">check_resource</span><span class="op">(</span><span class="va">self</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Connector object to validate.</p></dd>


<dt id="arg-self">self<a class="anchor" aria-label="anchor" href="#arg-self"></a></dt>
<dd><p>Connector object for method dispatch.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="architecture">Architecture<a class="anchor" aria-label="anchor" href="#architecture"></a></h2>


<p>The system is built around two main components:</p><ul><li><p><code>validate_resource()</code>: A dispatcher function that finds and
executes the appropriate S3 method based on the connector's class</p></li>
<li><p><code>check_resource()</code>: A generic S3 method that defines the
validation interface for all connector types</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="method-resolution">Method Resolution<a class="anchor" aria-label="anchor" href="#method-resolution"></a></h2>


<p>The validation process follows this hierarchy:</p><ol><li><p>Attempt to find a class-specific method (e.g., <code>check_resource.ConnectorFS</code>)</p></li>
<li><p>If no specific method exists, fall back to the default <code>check_resource.Connector</code></p></li>
<li><p>Execute the resolved method with appropriate error handling</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="available-s-methods">Available S3 Methods<a class="anchor" aria-label="anchor" href="#available-s-methods"></a></h2>


<dl><dt><code>check_resource.Connector</code></dt>
<dd><p>Default method that performs no validation.
Serves as a safe fallback for connector classes without specific validation needs.</p></dd>

<dt><code>check_resource.ConnectorFS</code></dt>
<dd><p>Validates file system resources by checking
directory existence using <code><a href="https://fs.r-lib.org/reference/file_access.html" class="external-link">fs::dir_exists()</a></code>. Throws informative errors
for missing directories.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="implementation-guidelines">Implementation Guidelines<a class="anchor" aria-label="anchor" href="#implementation-guidelines"></a></h2>


<p>When implementing new connector classes with resource validation:</p><ul><li><p>Define a method following the pattern <code>check_resource.&lt;YourClass&gt;</code></p></li>
<li><p>Return <code>NULL</code> on successful validation</p></li>
<li><p>Use <code><a href="https://cli.r-lib.org/reference/cli_abort.html" class="external-link">cli::cli_abort()</a></code> for validation failures to provide consistent error formatting</p></li>
<li><p>Include <code>call = rlang::caller_env()</code> in error calls for proper error context</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="error-handling">Error Handling<a class="anchor" aria-label="anchor" href="#error-handling"></a></h2>


<p>The validation system provides robust error handling:</p><ul><li><p>Method resolution failures are handled gracefully with fallback to default</p></li>
<li><p>Validation errors include contextual information about the failing resource</p></li>
<li><p>Error messages use <code>cli</code> formatting for consistency across the package</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Basic validation for a file system connector</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fs_connector</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va"><a href="ConnectorFS.html">ConnectorFS</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>path <span class="op">=</span> <span class="st">"doesn_t_exists"</span><span class="op">)</span>, silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fs_connector</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Error in validate_resource(self) : \n  \033[1m\033[22mInvalid file system connector: \033[34mdoesn_t_exists\033[39m does not exist.\n"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "try-error"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"condition")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB; font-weight: bold;">&lt;error/rlang_error&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in </span><span style="color: #5555FF; font-weight: bold;">`validate_resource()`</span><span style="font-weight: bold;">:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> Invalid file system connector: <span style="color: #0000BB;">doesn_t_exists</span> does not exist.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Backtrace:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">     </span>▆</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">  1. </span>└─<span style="font-weight: bold;">pkgdown</span>::build_site_github_pages(new_process = FALSE, install = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">  2. </span>  └─pkgdown::build_site(...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">  3. </span>    └─pkgdown:::build_site_local(...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">  4. </span>      └─pkgdown::build_reference(...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">  5. </span>        ├<span style="color: #949494;">─pkgdown:::unwrap_purrr_error(...)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">  6. </span>        │ <span style="color: #949494;">└─</span><span style="color: #949494; font-weight: bold;">base</span><span style="color: #949494;">::withCallingHandlers(...)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">  7. </span>        └─<span style="font-weight: bold;">purrr</span>::map(...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">  8. </span>          └─purrr:::map_("list", .x, .f, ..., .progress = .progress)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">  9. </span>            ├<span style="color: #949494;">─purrr:::with_indexed_errors(...)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 10. </span>            │ <span style="color: #949494;">└─</span><span style="color: #949494; font-weight: bold;">base</span><span style="color: #949494;">::withCallingHandlers(...)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 11. </span>            ├<span style="color: #949494;">─</span><span style="color: #949494; font-weight: bold;">purrr</span><span style="color: #949494;">:::call_with_cleanup(...)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 12. </span>            └─<span style="font-weight: bold;">pkgdown</span> (local) .f(.x[[i]], ...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 13. </span>              ├<span style="color: #949494;">─</span><span style="color: #949494; font-weight: bold;">base</span><span style="color: #949494;">::withCallingHandlers(...)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 14. </span>              └─<span style="font-weight: bold;">pkgdown</span>:::data_reference_topic(...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 15. </span>                └─pkgdown:::run_examples(...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 16. </span>                  └─pkgdown:::highlight_examples(code, topic, env = env)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 17. </span>                    └─<span style="font-weight: bold;">downlit</span>::evaluate_and_highlight(...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 18. </span>                      └─<span style="font-weight: bold;">evaluate</span>::evaluate(code, child_env(env), new_device = TRUE, output_handler = output_handler)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 19. </span>                        ├<span style="color: #949494;">─</span><span style="color: #949494; font-weight: bold;">base</span><span style="color: #949494;">::withRestarts(...)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 20. </span>                        │ <span style="color: #949494;">└─base (local) withRestartList(expr, restarts)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 21. </span>                        │   <span style="color: #949494;">├─base (local) withOneRestart(withRestartList(expr, restarts[-nr]), restarts[[nr]])</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 22. </span>                        │   <span style="color: #949494;">│ └─base (local) doWithOneRestart(return(expr), restart)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 23. </span>                        │   <span style="color: #949494;">└─base (local) withRestartList(expr, restarts[-nr])</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 24. </span>                        │     <span style="color: #949494;">└─base (local) withOneRestart(expr, restarts[[1L]])</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 25. </span>                        │       <span style="color: #949494;">└─base (local) doWithOneRestart(return(expr), restart)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 26. </span>                        ├<span style="color: #949494;">─</span><span style="color: #949494; font-weight: bold;">evaluate</span><span style="color: #949494;">:::with_handlers(...)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 27. </span>                        │ <span style="color: #949494;">├─</span><span style="color: #949494; font-weight: bold;">base</span><span style="color: #949494;">::eval(call)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 28. </span>                        │ <span style="color: #949494;">│ └─base::eval(call)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 29. </span>                        │ <span style="color: #949494;">└─base::withCallingHandlers(...)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 30. </span>                        ├<span style="color: #949494;">─base::withVisible(eval(expr, envir))</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 31. </span>                        └─base::eval(expr, envir)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 32. </span>                          └─base::eval(expr, envir)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 33. </span>                            ├<span style="color: #949494;">─base::try(ConnectorFS$new(path = "doesn_t_exists"), silent = TRUE)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 34. </span>                            │ <span style="color: #949494;">└─base::tryCatch(...)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 35. </span>                            │   <span style="color: #949494;">└─base (local) tryCatchList(expr, classes, parentenv, handlers)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 36. </span>                            │     <span style="color: #949494;">└─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 37. </span>                            │       <span style="color: #949494;">└─base (local) doTryCatch(return(expr), name, parentenv, handler)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 38. </span>                            └─ConnectorFS$new(path = "doesn_t_exists")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 39. </span>                              └─<span style="font-weight: bold;">connector</span> (local) initialize(...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 40. </span>                                └─super$initialize(extra_class = extra_class)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 41. </span>                                  └─<span style="color: #5555FF; font-weight: bold;">connector::validate_resource(</span>self<span style="color: #5555FF; font-weight: bold;">)</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cervan Girard, Aksel Thomsen, Vladimir Obucina.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

